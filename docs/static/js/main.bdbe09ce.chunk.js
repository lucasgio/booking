(this.webpackJsonpbooking=this.webpackJsonpbooking||[]).push([[0],{435:function(e,t,a){},437:function(e,t,a){"use strict";a.r(t);var c=a(1),r=a.n(c),n=a(50),o=a.n(n),i=a(42),l=a(35),d=a(448),s=a(446),j=a(449),b=a(440),h=a(445),m=a(443),u=a(442),O=a(100),f=a(232),x=a(136),p=a.n(x),y=p.a.create({baseURL:"https://api.skypicker.com"}),g=p.a.create({baseURL:"https://api.skypicker.com"}),D=Object(c.createContext)({flight:"",setFlight:function(){}}),v=function(){var e=Object(c.useState)({from:"Barcelona",to:"Madrid",dateFrom:new Date,dateTo:new Date}),t=Object(l.a)(e,2),a=t[0],r=t[1],n=Object(c.useContext)(D).setFlight,o=a.from,i=a.to,d=a.dateFrom,s=a.dateTo,j=null===d||void 0===d?void 0:d.toLocaleDateString(),b=null===s||void 0===s?void 0:s.toLocaleDateString();return{data:a,setData:r,handlerSubmit:function(){g.get("/flights?v=3&partner=skypicker&locale=en&flyFrom=".concat(o,"&to=").concat(i,"&dateFrom=").concat(j,"&dateTo=").concat(j,"&typeFlight=return&returnFrom=").concat(b,"&returnTo=").concat(b,"&limit=5")).then((function(e){n(Object(f.a)(e.data.data))})).catch(console.log)}}},F=a(7),Y=function(){var e=r.a.useRef(),t=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),a=t[0],r=t[1],n=Object(c.useState)([]),o=Object(l.a)(n,2),i=o[0],d=o[1],s=Object(c.useState)({from:"Madrid",to:"Barcelona"}),j=Object(l.a)(s,2),b=j[0],h=j[1],m=b.from,u=b.to;return Object(c.useEffect)((function(){y.get("/locations?term=".concat(m,"&location_types=airport")).then((function(e){r([{id:e.data.locations[0].city.id,label:e.data.locations[0].city.name}])})).catch(console.log)}),[m]),Object(c.useEffect)((function(){y.get("/locations?term=".concat(u,"&location_types=airport")).then((function(e){d([{id:e.data.locations[0].city.id,label:e.data.locations[0].city.name}])})).catch(console.log)}),[u]),{fromCity:a,toCity:i,form:b,setForm:h}}(),a=t.fromCity,n=t.toCity,o=t.form,f=t.setForm,x=v(),p=x.data,g=x.setData,D=x.handlerSubmit;return Object(F.jsx)(d.a,{style:{marginTop:"2rem"},children:Object(F.jsx)(s.a,{justify:"center",children:Object(F.jsxs)(j.a,{ref:e,onChange:g,layout:"inline",formValue:p,children:[Object(F.jsx)(b.a,{children:Object(F.jsx)(h.a,{name:"from",accepter:m.a,placeholder:"From",labelKey:"label",valueKey:"id",data:a,onSearch:function(e){return f(Object(i.a)(Object(i.a)({},o),{},{from:e}))},style:{width:200}})}),Object(F.jsx)(b.a,{children:Object(F.jsx)(h.a,{name:"to",accepter:m.a,data:n,placeholder:"To",labelKey:"label",valueKey:"id",onSearch:function(e){return f(Object(i.a)(Object(i.a)({},o),{},{to:e}))},style:{width:200}})}),Object(F.jsx)(b.a,{children:Object(F.jsx)(h.a,{name:"dateFrom",accepter:u.a,format:"DD/MM/YYYY",placeholder:"Departure",style:{width:200}})}),Object(F.jsx)(b.a,{children:Object(F.jsx)(h.a,{name:"dateTo",accepter:u.a,format:"DD/MM/YYYY",placeholder:"Return",style:{width:200}})}),Object(F.jsx)(O.a,{color:"green",onClick:D,children:"Search"})]})})})},M=a(447),T=a(144),k=a.n(T),S=function(e){var t=e.cityFrom,a=e.cityTo,c=e.dTime,r=e.aTimeUTC,n=e.price,o=new Date(1e3*c),i=new Date(1e3*r);return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)(M.a,{className:"result_card",bordered:!0,children:Object(F.jsxs)("dl",{children:[Object(F.jsx)("dt",{children:"From:"}),Object(F.jsx)("dd",{children:t}),Object(F.jsx)("dt",{children:"To:"}),Object(F.jsx)("dd",{children:a}),Object(F.jsx)("dt",{children:"Date and Time Departure:"}),Object(F.jsx)("dd",{children:k()(o).format("DD/MMMM/YYYY:h:mm:ss A")}),Object(F.jsx)("dt",{children:"Date and Time Arrival:"}),Object(F.jsx)("dd",{children:k()(i).format("DD/MMMM/YYYY:h:mm:ss A")}),Object(F.jsx)("dt",{children:"Price:"}),Object(F.jsxs)("dd",{children:[n,".00"]})]})})})},w=(a(435),function(){var e=Object(c.useState)(),t=Object(l.a)(e,2),a=t[0],r=t[1];return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)(D.Provider,{value:{flight:a,setFlight:r},children:[Object(F.jsxs)(d.a,{className:"show-container",children:[Object(F.jsx)("h2",{className:"title",children:"Booking your preferred flight"}),Object(F.jsx)(M.a,{className:"card",shaded:!0,children:Object(F.jsx)(Y,{})})]}),Object(F.jsx)(d.a,{children:null===a||void 0===a?void 0:a.map((function(e){return Object(F.jsx)(S,Object(i.a)({},e),e.id)}))})]})})});a(436);o.a.render(Object(F.jsx)(w,{}),document.getElementById("root"))}},[[437,1,2]]]);
//# sourceMappingURL=main.bdbe09ce.chunk.js.map